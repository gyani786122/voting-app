# ğŸ—ï¸ Architecture Diagrams

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      WEB BROWSER                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              ANGULAR FRONTEND (Port 4200)               â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚          App Component (Dashboard)               â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  - Candidates Table | Voters Table               â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  - Vote Form (Dropdowns)                         â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚                         â”‚                                â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚            Services (RxJS)                      â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  - CandidatesService     (HTTP GET/POST)       â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  - VotersService        (HTTP GET/POST)       â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  - VotesService         (HTTP POST)           â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  - VotingRealtimeService (SignalR)            â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚                         â”‚                                â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚      HTTP + WebSocket (SignalR)                â”‚   â”‚  â”‚
â”‚  â”‚  â”‚    REST API: http://localhost:5000/api/*      â”‚   â”‚  â”‚
â”‚  â”‚  â”‚    SignalR: ws://localhost:5000/hubs/voting   â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                             â”‚
                â”‚   NETWORK (LOCALHOST)      â”‚
                â”‚                             â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   ASP.NET CORE 8 API (Port 5000)            â”‚
                â”‚                                              â”‚
                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                â”‚  â”‚         API Layer                     â”‚  â”‚
                â”‚  â”‚  - CandidatesController              â”‚  â”‚
                â”‚  â”‚  - VotersController                  â”‚  â”‚
                â”‚  â”‚  - VotesController                   â”‚  â”‚
                â”‚  â”‚  - VotingHub (SignalR)               â”‚  â”‚
                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                â”‚                   â”‚                          â”‚
                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
                â”‚  â”‚    Application Layer                â”‚   â”‚
                â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
                â”‚  â”‚  â”‚   Use Cases (Interfaces)     â”‚  â”‚   â”‚
                â”‚  â”‚  â”‚ - CreateCandidateUseCase    â”‚  â”‚   â”‚
                â”‚  â”‚  â”‚ - GetAllCandidatesUseCase   â”‚  â”‚   â”‚
                â”‚  â”‚  â”‚ - CreateVoterUseCase        â”‚  â”‚   â”‚
                â”‚  â”‚  â”‚ - GetAllVotersUseCase       â”‚  â”‚   â”‚
                â”‚  â”‚  â”‚ - CastVoteUseCase â­        â”‚  â”‚   â”‚
                â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
                â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
                â”‚  â”‚  â”‚   Validators (FluentVal)     â”‚  â”‚   â”‚
                â”‚  â”‚  â”‚ - CreateCandidateValidator  â”‚  â”‚   â”‚
                â”‚  â”‚  â”‚ - CreateVoterValidator      â”‚  â”‚   â”‚
                â”‚  â”‚  â”‚ - CastVoteRequestValidator  â”‚  â”‚   â”‚
                â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
                â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
                â”‚  â”‚  â”‚   DTOs                       â”‚  â”‚   â”‚
                â”‚  â”‚  â”‚ - CandidateDto              â”‚  â”‚   â”‚
                â”‚  â”‚  â”‚ - VoterDto                  â”‚  â”‚   â”‚
                â”‚  â”‚  â”‚ - CastVoteResponse          â”‚  â”‚   â”‚
                â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                â”‚                   â”‚                        â”‚
                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
                â”‚  â”‚    Domain Layer                     â”‚   â”‚
                â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
                â”‚  â”‚  â”‚   Entities                   â”‚  â”‚   â”‚
                â”‚  â”‚  â”‚ - Candidate                  â”‚  â”‚   â”‚
                â”‚  â”‚  â”‚   { Id, Name, VoteCount }   â”‚  â”‚   â”‚
                â”‚  â”‚  â”‚ - Voter                      â”‚  â”‚   â”‚
                â”‚  â”‚  â”‚   { Id, Name, HasVoted }    â”‚  â”‚   â”‚
                â”‚  â”‚  â”‚ - Vote â­                    â”‚  â”‚   â”‚
                â”‚  â”‚  â”‚   { Id, VoterId, CanId }    â”‚  â”‚   â”‚
                â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                â”‚                   â”‚                        â”‚
                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
                â”‚  â”‚  Infrastructure Layer               â”‚   â”‚
                â”‚  â”‚  - VotingDbContext (EF Core)       â”‚   â”‚
                â”‚  â”‚  - DbSet<Candidate>                â”‚   â”‚
                â”‚  â”‚  - DbSet<Voter>                    â”‚   â”‚
                â”‚  â”‚  - DbSet<Vote>                     â”‚   â”‚
                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                â”‚                   â”‚                        â”‚
                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
                â”‚  â”‚    Database Layer                   â”‚   â”‚
                â”‚  â”‚    SQLite (voting.db)              â”‚   â”‚
                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                â”‚                                              â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Vote Casting Flow (Sequence Diagram)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Angular  â”‚         â”‚ Backend  â”‚      â”‚ Database    â”‚       â”‚ SignalR    â”‚
â”‚ Frontend â”‚         â”‚ API      â”‚      â”‚ (SQLite)    â”‚       â”‚ Hub        â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
     â”‚                    â”‚                   â”‚                    â”‚
     â”‚ 1. User selects    â”‚                   â”‚                    â”‚
     â”‚    voter + votes   â”‚                   â”‚                    â”‚
     â”‚    for candidate   â”‚                   â”‚                    â”‚
     â”‚                    â”‚                   â”‚                    â”‚
     â”‚ 2. POST /api/votes â”‚                   â”‚                    â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚                    â”‚
     â”‚                    â”‚                   â”‚                    â”‚
     â”‚                    â”‚ 3. Validate voter â”‚                    â”‚
     â”‚                    â”‚    and candidate  â”‚                    â”‚
     â”‚                    â”‚                   â”‚                    â”‚
     â”‚                    â”‚ 4. Begin          â”‚                    â”‚
     â”‚                    â”‚    Transaction    â”‚                    â”‚
     â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                    â”‚
     â”‚                    â”‚                   â”‚                    â”‚
     â”‚                    â”‚ 5. Check voter.   â”‚                    â”‚
     â”‚                    â”‚    HasVoted       â”‚                    â”‚
     â”‚                    â”‚                   â”‚                    â”‚
     â”‚                    â”‚ 6. Create Vote    â”‚                    â”‚
     â”‚                    â”‚    record         â”‚                    â”‚
     â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                    â”‚
     â”‚                    â”‚                   â”‚                    â”‚
     â”‚                    â”‚ 7. Update Voter   â”‚                    â”‚
     â”‚                    â”‚    HasVoted=true  â”‚                    â”‚
     â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                    â”‚
     â”‚                    â”‚                   â”‚                    â”‚
     â”‚                    â”‚ 8. Increment      â”‚                    â”‚
     â”‚                    â”‚    Candidate      â”‚                    â”‚
     â”‚                    â”‚    VoteCount      â”‚                    â”‚
     â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                    â”‚
     â”‚                    â”‚                   â”‚                    â”‚
     â”‚                    â”‚ 9. Commit         â”‚                    â”‚
     â”‚                    â”‚    Transaction    â”‚                    â”‚
     â”‚                    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
     â”‚                    â”‚                   â”‚                    â”‚
     â”‚ 10. Return 200 OK  â”‚                   â”‚                    â”‚
     â”‚     + updated data â”‚                   â”‚                    â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                    â”‚
     â”‚                    â”‚                   â”‚                    â”‚
     â”‚                    â”‚ 11. Broadcast     â”‚                    â”‚
     â”‚                    â”‚     VoteCast      â”‚                    â”‚
     â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                    â”‚                   â”‚                    â”‚
     â”‚ 12. Receive event  â”‚                   â”‚                    â”‚
     â”‚     on WebSocket   â”‚                   â”‚                    â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                    â”‚                   â”‚                    â”‚
     â”‚ 13. Update local   â”‚                   â”‚                    â”‚
     â”‚     BehaviorSubj.  â”‚                   â”‚                    â”‚
     â”‚                    â”‚                   â”‚                    â”‚
     â”‚ 14. Components     â”‚                   â”‚                    â”‚
     â”‚     re-render      â”‚                   â”‚                    â”‚
     â”‚     with new data  â”‚                   â”‚                    â”‚
     â”‚                    â”‚                   â”‚                    â”‚
     âœ“ Vote Count Updated â”‚                   â”‚                    â”‚
     âœ“ HasVoted Updated   â”‚                   â”‚                    â”‚
```

---

## One Vote Per Voter Enforcement

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Cast Vote Request   â”‚
                    â”‚ {voterId, candId}   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Validation Level 1  â”‚
                    â”‚ FluentValidator     â”‚
                    â”‚ - IDs not empty     â”‚ â”€â”€Xâ”€â”€> Error 400
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Check Level 2       â”‚
                    â”‚ Application Logic   â”‚
                    â”‚ Query DB:           â”‚
                    â”‚ if voter.HasVoted?  â”‚ â”€â”€Xâ”€â”€> Error 409
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        "Already Voted"
                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Constraint Level 3  â”‚
                    â”‚ Database Unique     â”‚
                    â”‚ Index on VoterId    â”‚ â”€â”€Xâ”€â”€> Database Error
                    â”‚ (prevents duplicatesâ”‚
                    â”‚  at persistence)    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ âœ“ Vote Recorded     â”‚
                    â”‚ âœ“ Count Updated     â”‚
                    â”‚ âœ“ HasVoted = true   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Hierarchy (Angular)

```
                    AppComponent
                         â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                         â”‚
   VotersTableComponent      CandidatesTableComponent
        â”‚                           â”‚
        â”œâ”€ voters: Voter[]          â”œâ”€ candidates: Candidate[]
        â”œâ”€ displayedColumns          â”œâ”€ displayedColumns
        â””â”€ MatTable                  â””â”€ MatTable
            â”‚                            â”‚
            â””â”€ [Add Voter Button]        â””â”€ [Add Candidate Button]
                â”‚                           â”‚
                â””â”€ AddVoterDialog          â””â”€ AddCandidateDialog
                   (MatDialog)                (MatDialog)
                   â”‚                          â”‚
                   â”œâ”€ Form                   â”œâ”€ Form
                   â”œâ”€ Validation             â”œâ”€ Validation
                   â””â”€ VotersService.create   â””â”€ CandidatesService.create
                                   â”‚                â”‚
                          VotersService         CandidatesService
                          â”‚                     â”‚
                          â””â”€ HTTP POST          â””â”€ HTTP POST
                                   â”‚                â”‚
                                   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                   Backend API
                                        â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                           â”‚                           â”‚
            â–¼                           â–¼                           â–¼
     VotersTableComponent      CandidatesTableComponent      VoteFormComponent
     (Display Voters)          (Display Candidates)          (Select & Vote)
            â”‚                           â”‚                           â”‚
            â””â”€ Observable:voters$       â”œâ”€ Observable:candidates$   â”œâ”€ Form Group
                                        â”‚                           â”‚
                                        â””â”€ Observable:voters$
                                                                    â”‚
                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                   VotingRealtimeService
                                        â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚           â”‚           â”‚
                        candidates$  voters$    VoteCast Event
                        (Subject)    (Subject)  (SignalR)
                            â”‚           â”‚           â”‚
                            â”‚           â”‚           â”œâ”€ signalR.on('VoteCast')
                            â”‚           â”‚           â”œâ”€ Update candidates$
                            â”‚           â”‚           â””â”€ Update voters$
                            â”‚           â”‚
                            â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                                  â”‚
                          SignalR Hub
                     (ws://localhost:5000)
                                  â”‚
                          Backend VotingHub
```

---

## Data Model Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Candidate                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ - Id: Guid (PK)                                 â”‚   â”‚
â”‚  â”‚ - Name: string                                  â”‚   â”‚
â”‚  â”‚ - VoteCount: int                                â”‚   â”‚
â”‚  â”‚ - CreatedAtUtc: DateTime                        â”‚   â”‚
â”‚  â”‚ - Votes: ICollection<Vote> (Navigation)         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â–²                                 â”‚
â”‚                         â”‚ (One-to-Many)                   â”‚
â”‚                         â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚          Vote                      â”‚   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚ â”‚ - Id: Guid (PK)               â”‚ â”‚   â”‚
â”‚ â”‚ - VoterId: Guid (FK) â­       â”‚ â”‚   â”‚
â”‚ â”‚ - CandidateId: Guid (FK) â”€â”€â”€â”€â”€â”€â”¼â”€â”˜   â”‚
â”‚ â”‚ - CastAtUtc: DateTime         â”‚ â”‚   â”‚
â”‚ â”‚ - Voter: Voter? (Navigation)  â”‚ â”‚   â”‚
â”‚ â”‚ - Candidate: Candidate?       â”‚ â”‚   â”‚
â”‚ â”‚                               â”‚ â”‚   â”‚
â”‚ â”‚ â­ UNIQUE(VoterId)            â”‚ â”‚   â”‚
â”‚ â”‚    (One Vote Per Voter)       â”‚ â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
        â”‚                                 â”‚
        â”‚ (One-to-One via VoterId)        â”‚
        â”‚                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚          Voter                     â”‚   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚ â”‚ - Id: Guid (PK)               â”‚ â”‚   â”‚
â”‚ â”‚ - Name: string                â”‚ â”‚   â”‚
â”‚ â”‚ - HasVoted: bool â­            â”‚ â”‚   â”‚
â”‚ â”‚ - CreatedAtUtc: DateTime      â”‚ â”‚   â”‚
â”‚ â”‚ - Vote: Vote? (Navigation)    â”‚ â”‚   â”‚
â”‚ â”‚                               â”‚ â”‚   â”‚
â”‚ â”‚ â­ Used to check before       â”‚ â”‚   â”‚
â”‚ â”‚    allowing vote              â”‚ â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                                         â””â”€ (Many-to-One)
```

---

## State Management (Frontend)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         VotingRealtimeService (Singleton)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Private State:                                        â”‚  â”‚
â”‚  â”‚  - candidatesSubject: BehaviorSubject<Candidate[]>   â”‚  â”‚
â”‚  â”‚  - votersSubject: BehaviorSubject<Voter[]>          â”‚  â”‚
â”‚  â”‚  - errorSubject: Subject<string>                     â”‚  â”‚
â”‚  â”‚  - hubConnection: HubConnection | null              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Public Observables:                                   â”‚  â”‚
â”‚  â”‚  - candidates$ = candidatesSubject.asObservable()   â”‚  â”‚
â”‚  â”‚  - voters$ = votersSubject.asObservable()          â”‚  â”‚
â”‚  â”‚  - error$ = errorSubject.asObservable()            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Methods:                                              â”‚  â”‚
â”‚  â”‚  - connect(): Observable<void>                       â”‚  â”‚
â”‚  â”‚    â”œâ”€ Loads initial data from HTTP                  â”‚  â”‚
â”‚  â”‚    â”œâ”€ Establishes SignalR connection               â”‚  â”‚
â”‚  â”‚    â””â”€ Registers event handlers                      â”‚  â”‚
â”‚  â”‚                                                       â”‚  â”‚
â”‚  â”‚  - handleVoteCast(response)                         â”‚  â”‚
â”‚  â”‚    â”œâ”€ Updates candidate in candidatesSubject       â”‚  â”‚
â”‚  â”‚    â””â”€ Updates voter in votersSubject              â”‚  â”‚
â”‚  â”‚                                                       â”‚  â”‚
â”‚  â”‚  - addCandidate(candidate)                          â”‚  â”‚
â”‚  â”‚  - addVoter(voter)                                  â”‚  â”‚
â”‚  â”‚  - disconnect()                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                    â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                    â”‚                      â”‚
        â–¼                    â–¼                      â–¼
   CandidatesTable   VotersTable             VoteForm
   Component        Component               Component
        â”‚                â”‚                      â”‚
   candidates$       voters$             candidates$ + voters$
   (subscribe)       (subscribe)         (subscribe & form logic)
```

---

## Error Handling Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   HTTP Request              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Response    â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚          â”‚          â”‚
  2xx         4xx        5xx
    â”‚          â”‚          â”‚
    â–¼          â–¼          â–¼
  Success  Client Error Server Error
    â”‚          â”‚          â”‚
    â”‚    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚    â”‚            â”‚   â”‚
    â”‚  400        409  â”‚   500+
    â”‚  Bad       Conf  â”‚   Server
    â”‚  Request   lict  â”‚   Error
    â”‚  â”‚        â”‚      â”‚   â”‚
    â”‚  â–¼        â–¼      â”‚   â–¼
    â”‚  Val      Vote   â”‚  Generic
    â”‚  Error    Already â”‚  Error
    â”‚  â”‚        Voted  â”‚  â”‚
    â”‚  â”‚        â”‚      â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”˜
    â”‚       â”‚      â”‚
    â”‚       â–¼      â–¼
    â”‚   Snackbar  Snackbar
    â”‚   Message   Message
    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚
                    Form State Reset
                    (Success only)
```

---

**These diagrams illustrate the complete system architecture, data flow, and component relationships of the Voting Application.**
